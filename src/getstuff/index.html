<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="E-SPAZA, shops">

	<!-- title -->
	<title>Shop</title>

	<!-- favicon -->
	<link rel="shortcut icon" type="image/png" href="assets/img/favicon.png">
	<!-- google font -->
	<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Poppins:400,700&display=swap" rel="stylesheet">
	<!-- fontawesome -->
	<link rel="stylesheet" href="assets/css/all.min.css">
	<!-- bootstrap -->
	<link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
	<!-- owl carousel -->
	<link rel="stylesheet" href="assets/css/owl.carousel.css">
	<!-- magnific popup -->
	<link rel="stylesheet" href="assets/css/magnific-popup.css">
	<!-- animate css -->
	<link rel="stylesheet" href="assets/css/animate.css">
	<!-- mean menu css -->
	<link rel="stylesheet" href="assets/css/meanmenu.min.css">
	<!-- main style -->
	<link rel="stylesheet" href="assets/css/main.css">
	<!-- responsive -->
	<link rel="stylesheet" href="assets/css/responsive.css">

</head>
<body>
	
	<!--PreLoader-->
    <div class="loader">
        <div class="loader-inner">
            <div class="circle"></div>
        </div>
    </div>
    <!--PreLoader Ends-->
	
	<!-- header -->
	<div class="top-header-area" id="sticker">
		<div class="container">
			<div class="row">
				<div class="col-lg-12 col-sm-12 text-center">
					<div class="main-menu-wrap">
						<!-- logo -->
						
						<!-- logo -->

						<!-- menu start -->
						<nav class="main-menu">
							<ul>
								
								<li><a href="about.html">About</a></li>
								<li><a href="#">Pages</a>
									<ul class="sub-menu">
										
										<li><a href="about.html">About</a></li>
										<li><a href="cart_checkout/index.html">Cart</a></li>
										<li><a href="cart_checkout/index.html">Check Out</a></li>
										<li><a href="contact/index.html">Contact</a></li>
										
										<li><a href="/">Shop</a></li>
									</ul>
								</li>
								<li><a href="contact.html">Contact</a></li>
								<li><a href="shop.html">Shop</a>
									<ul class="sub-menu">
										<li><a href="shop.html">Shop</a></li>
										<li><a href="checkout.html">Check Out</a></li>
										<li><a href="single-product.html">Single Product</a></li>
										<li><a href="cart_checkout/">Cart</a></li>
									</ul>
								</li>
								<li>
									<div class="header-icons">

										<a class="shopping-cart" href="/getstuff/cart_checkout/">
											<i class="fas fa-shopping-cart" id="cartIcon"></i>
											<span id="cartCount" class="badge badge-pill badge-primary">0</span>
										</a>
										<style>
											.shopping-cart {
    position: relative;
    font-size: 2em; /* Increase the size of the cart icon */
}

.badge {
    position: absolute;
    top: -10px;
    right: -10px;
    padding: 5px 10px;
    border-radius: 50%;
    background-color: #CC5500;
    color: white;
    font-size: 0.75em; /* Increase the size of the badge */
    animation: pulse 1s infinite;
}

/* Animation for pulsing effect */
@keyframes pulse {
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.2);
    }
    100% {
        transform: scale(1);
    }
}

										</style>
										<a class="mobile-hide search-bar-icon" href="#"><i class="fas fa-search"></i></a>
									</div>
								</li>
							</ul>
						</nav>
						<a class="mobile-show search-bar-icon" href="#"><i class="fas fa-search"></i></a>
						<div class="mobile-menu"></div>
						<!-- menu end -->
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- end header -->
	
	<!-- search area -->
	<div class="search-area">
		<div class="container">
			<div class="row">
				<div class="col-lg-12">
					<span class="close-btn"><i class="fas fa-window-close"></i></span>
					<div class="search-bar">
						<div class="search-bar-tablecell">
							<h3>Search For:</h3>
							<input type="text" placeholder="Keywords">
							<button type="submit">Search <i class="fas fa-search"></i></button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- end search area -->

	<!-- home page slider -->
	<div class="homepage-slider">
		<!-- single home slider -->
		<div class="single-homepage-slider homepage-bg-1">
			<div class="container">
				<div class="row">
					<div class="col-md-12 col-lg-7 offset-lg-1 offset-xl-0">
						<div class="hero-text">
							<div class="hero-text-tablecell">
								<p class="subtitle">Fresh & Organic</p>
								<p>Discover Delicious Seasonal "food" at Your Local Spaza Shops on e-Spaza</p>
								<h1 id="nn">Welcome to Mama Joyce's shop</h1>
								
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- single home slider -->
		<div class="single-homepage-slider homepage-bg-2">
			<div class="container">
				<div class="row">
					<div class="col-lg-10 offset-lg-1 text-center">
						<div class="hero-text">
							<div class="hero-text-tablecell">
								<p class="subtitle">Fresh Everyday</p>
								<h1>100% Organic Collection</h1>
								
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- single home slider -->
		<div class="single-homepage-slider homepage-bg-3">
			<div class="container">
				<div class="row">
					<div class="col-lg-10 offset-lg-1 text-right">
						<div class="hero-text">
							<div class="hero-text-tablecell">
								<p class="subtitle">Mega Sale Going On!</p>
								<h1>Get Discount Maybe!</h1>
								
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- end home page slider -->

	<!-- features list section -->
	<div class="list-section pt-80 pb-80">
		<div class="container">

			<div class="row">
				<div class="col-lg-4 col-md-6 mb-4 mb-lg-0">
					<div class="list-box d-flex align-items-center">
						<div class="list-icon">
							<i class="fas fa-shipping-fast"></i>
						</div>
						<div class="content">
							<h3>Free Delivery</h3>
							<p>When order over R300</p>
						</div>
					</div>
				</div>
				<div class="col-lg-4 col-md-6 mb-4 mb-lg-0">
					<div class="list-box d-flex align-items-center">
						<div class="list-icon">
							<i class="fas fa-phone-volume"></i>
						</div>
						<div class="content">
							<h3>Local 24/7 Support</h3>
							<p>Get support all day</p>
						</div>
					</div>
				</div>
				<div class="col-lg-4 col-md-6">
					<div class="list-box d-flex justify-content-start align-items-center">
						<div class="list-icon">
							<i class="fas fa-sync"></i>
						</div>
						<div class="content">
							<h3>Refund</h3>
							<p>Get refund within 3 days!</p>
						</div>
					</div>
				</div>
			</div>

		</div>
	</div>
	<!-- end features list section -->
	<!-- product section -->
	<div class="product-section mt-150 mb-150">
		<div class="container">
			<div class="row">
				<div class="col-lg-8 offset-lg-2 text-center">
					<div class="section-title">	
						<h3><span class="orange-text">Our</span> Products</h3>
						<p><b>At Mama Joyce, your trusted neighborhood shop from your local neighborhood!</b> We pride ourselves on offering a wide selection of fresh, high-quality products sourced from our local garden. From daily essentials to unique local delicacies, our platform is committed to providing exceptional service and convenience to our community. Explore our range of seasonal fruits, vegetables, homemade baked goods, and artisanal crafts from Mama Joyce. At Mama Joyce we believe in supporting our local economy and fostering a strong sense of community. Thank you for choosing us as your go-to destination!</p>					</div>
				</div>
			</div>
              
			<div class="row" id="some.">
				
				
					<div class="col-lg-4 col-md-6 text-center">
						<div class="single-product-item">
							<div class="product-image">
								<a href="#"><img src="assets/img/products/product-img-1.jpg" alt=""></a>
							</div>
							<h3 id ="description">Fruits and vegetables </h3>
							<p class="product-price" id="shopName"><span id="location">18407 Kubeka Street,Kwa Thema</span> Mama Joyce </p>
							<a href="#" class="cart-btn"><i class="fas fa-shopping-cart"></i> Visit Shop.</a>
						</div>
					</div>
					
				
					
						
			</div>	
		</div>
	</div>
	<!-- end product section -->
	            <a href="/getstuff/cart_checkout/" class="cart-btn btn-lg" style="align-items: center;">Go to checkout!</a>

	<!-- cart banner section -->
	<section class="cart-banner pt-100 pb-100">
    	<div class="container">
			<h2>Explore massive sales for today!</h2>
        	<div class="row clearfix">
            	<!--Image Column-->
            	<div class="image-column col-lg-6">
					
                	<div class="image">
                    	<div class="price-box">
                        	<div class="inner-price">
                                <span class="price">
                                    <strong>30%</strong> <br> off per kg
                                </span>
                            </div>
                        </div>
                    	<img src="assets/img/a.jpg" alt="">
                    </div>
                </div>
                <!--Content Column-->
                <div class="content-column col-lg-6">
					
            </div>
        </div>
    </section>
    <!-- end cart banner section -->

	<!-- testimonail-section -->
	<div class="testimonail-section mt-150 mb-150">
		<div class="container">
			<div class="row">
				<div class="col-lg-10 offset-lg-1 text-center">
					<div class="testimonial-sliders">
						<div class="single-testimonial-slider">
							<div class="client-avater">
								<img src="assets/img/avaters/avatar1.png" alt="">
							</div>
							<div class="client-meta">
								<h3>Mama Joyce <span>Local shop owner</span></h3>
								<p class="testimonial-body">
									<b>I am Mama Joyce,a shop owner of Mama Joyce shop. </b>
									I am your go-to destination for the freshest fruits and vegetables in our local community. With a commitment to quality and a warm smile, I offer a curated selection of seasonal produce that's sure to delight your taste buds. Join us at Mama Joyce's to experience the best of local flavor and community spirit in every bite.								</p>
								<div class="last-icon">
									<i class="fas fa-quote-right"></i>
								</div>
							</div>
						</div>
						<div class="single-testimonial-slider">
							<div class="client-avater">
								<img src="assets/img/avaters/avatar2.png" alt="">
							</div>
							<div class="client-meta">
								<h3>Bra Steve <span>shop worker</span></h3>
								<p class="testimonial-body">
									I am Bra Steve, your friendly neighborhood phone expert, here to serve all your mobile needs. At my shop, I specialize in both selling and repairing used phones, offering top-notch service and quality craftsmanship every step of the way. Whether you're in the market for an affordable upgrade or need a quick fix for your beloved device, I've got you covered. With years of experience and a passion for technology, I take pride in providing personalized solutions tailored to your specific needs. Trust Bra Steve for all your phone-related concerns, and experience the difference firsthand.
								</p>
								<div class="last-icon">
									<i class="fas fa-quote-right"></i>
								</div>
							</div>
						</div>
						<div class="single-testimonial-slider">
							<h4>Other workers aswell</h4>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- end testimonail-section -->
	
	<!-- advertisement section -->
	<div class="abt-section mb-150">
		<div class="container">
			<div class="row">
				<div class="col-lg-6 col-md-12">
					<div class="abt-bg">
						<a href="https://www.youtube.com/watch?v=myjEoDypUD8" class="video-play-btn popup-youtube"><i class="fas fa-play"></i></a>
					</div>
				</div>
				<div class="col-lg-6 col-md-12">
					<div class="abt-text">
						<p class="top-sub">Since Year 2018</p>
						<h2>We are <span class="orange-text">At Mama Joyce's shop</span></h2>
						<p>We sell fruits and vegetables that are fresh from our garden. </p>
						<p>Step into Mama Joyce's shop, where nature's bounty meets sisterly care. Proudly nestled alongside our community garden, Mama Joyce brings you the freshest fruits and vegetables straight from our own backyard. With a dedication to organic farming and sustainable practices, our garden produces vibrant, nutrient-rich produce that reflects the love and attention we pour into every seedling. At Mama Joyce's, you'll find a delightful array of seasonal favorites, hand-picked and lovingly tended to ensure the highest quality and flavor. Join us in celebrating the beauty of locally grown goodness at Mama Joyce's Fresh Garden Market.</p>
						<a href="about.html" class="boxed-btn mt-4">know more</a>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- end advertisement section -->
	
	<!-- shop banner -->
	<section class="shop-banner">
    	<div class="container">
        	<h3>Sale! Sale! Sale! <br> with big <span class="orange-text">Discount...</span></h3>
            <div class="sale-percent"><span>Sale! <br> Upto</span>0% <span>off</span></div>
            <a href="shop.html" class="cart-btn btn-lg">Shop Now</a>
        </div>
    </section>
	<!-- end shop banner -->

	

	

	<!-- footer -->
	<div class="footer-area">
		<div class="container">
			<div class="row">
				<div class="col-lg-3 col-md-6">
					<div class="footer-box about-widget">
						<h2 class="widget-title">About us</h2>
						<p>Mama Joyce shop is a local shop that is located at Kwa Thema,it sells fruits and vegetablesto people in the local commnunity.</p>
					</div>
				</div>
				<div class="col-lg-3 col-md-6">
					<div class="footer-box get-in-touch">
						<h2 class="widget-title">Get in Touch</h2>
						<ul>
							<li>18407 Kubeka Street,Kwa Thema 1575.</li>
							<li>mamajoyce234@gmail.com</li>
							<li>+27 67 191 1461</li>
						</ul>
					</div>
				</div>
				<div class="col-lg-3 col-md-6">
					<div class="footer-box pages">
						<h2 class="widget-title">Pages</h2>
						<ul>
							<li><a href="index.html">Home</a></li>
							<li><a href="about.html">About</a></li>
							<li><a href="services.html">Shop</a></li>
			
							<li><a href="contact.html">Contact</a></li>
						</ul>
					</div>
				</div>
				
			</div>
		</div>
	</div>
	<!-- end footer -->
	
	<!-- copyright -->
	<div class="copyright">
		<div class="container">
			<div class="row">
				<div class="col-lg-6 col-md-12">
					<p>Copyrights &copy; Reserved!
					</p>
				</div>
				<div class="col-lg-6 text-right col-md-12">
					<div class="social-icons">
						<ul>
							<li><a href="#" target="_blank"><i class="fab fa-facebook-f"></i></a></li>
							<li><a href="#" target="_blank"><i class="fab fa-twitter"></i></a></li>
							<li><a href="#" target="_blank"><i class="fab fa-instagram"></i></a></li>
							<li><a href="#" target="_blank"><i class="fab fa-linkedin"></i></a></li>
							<li><a href="#" target="_blank"><i class="fab fa-dribbble"></i></a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script type="module">
		// Import the functions you need from the SDKs you need
		import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-app.js";
		import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-analytics.js";
		import { getDatabase, ref, get } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-database.js";
	
		// Your web app's Firebase configuration
		const firebaseConfig = {
			apiKey: "AIzaSyCDvwIj5sxqJE-yIrkQhBtPLAWDlKxY-zU",
			authDomain: "entiresystem-7ea4f.firebaseapp.com",
			databaseURL: "https://entiresystem-7ea4f-default-rtdb.asia-southeast1.firebasedatabase.app",
			projectId: "entiresystem-7ea4f",
			storageBucket: "entiresystem-7ea4f.appspot.com",
			messagingSenderId: "25619596774",
			appId: "1:25619596774:web:e296b99271610195690227",
			measurementId: "G-LXVGY3MW22"
		};
	
		// Initialize Firebase
		const app = initializeApp(firebaseConfig);
		const analytics = getAnalytics(app);
		const database = getDatabase();
	
		let cartItems = [];
	
		// Function to retrieve and display products data
		function displayProducts(shopName) {
			const productsRef = ref(database, 'Products');
			get(productsRef).then((snapshot) => {
				if (snapshot.exists()) {
					console.log("Products Data:");
	
					// Get the container element for products
					const rowContainer = document.getElementById('some.');
					// Clear previous content
					rowContainer.innerHTML = '';
	
					snapshot.forEach((childSnapshot) => {
						const productData = childSnapshot.val();
	
						// Check if the product belongs to the specified shop
						if (productData.shopName === shopName) {
							// Create a card for a single product
							const shopItem = document.createElement('div');
							shopItem.classList.add('col-lg-4', 'col-md-6', 'text-center');
	
							const singleProductItem = document.createElement('div');
							singleProductItem.classList.add('single-product-item');
							// an image on a card
							const productImage = document.createElement('div');
							productImage.classList.add('product-image');
							productImage.innerHTML = `<a href="#"><img src="${productData.imageUrl}" alt=""></a>`;
	
							function truncateDescription(description, maxLength = 35) {
								// Split the description into lines
								let lines = description.split('\n');
	
								// Take the first line
								let firstLine = lines[0];
	
								// If the first line is longer than the maxLength, truncate it and add ellipses
								if (firstLine.length > maxLength) {
									firstLine = firstLine.substring(0, maxLength) + '...';
								}
	
								return firstLine;
							}
							// name of product
							const pName = document.createElement('h3');
							pName.textContent = productData.productName; // first bolded text
							// product description
							const productPrice = document.createElement('p');
							productPrice.classList.add('product-price');
							productPrice.innerHTML = `<span>${truncateDescription(productData.description)}</span> ${`R ${productData.productPrice}`}`;
	
							const cartBtn = document.createElement('a');
							cartBtn.classList.add('cart-btn');
							//cartBtn.href = 'cart_checkout/';
							cartBtn.innerHTML = '<i class="fas fa-shopping-cart"></i> Add to cart';
	
							// Append elements to single product item
							singleProductItem.appendChild(productImage);
							singleProductItem.appendChild(pName);
							singleProductItem.appendChild(productPrice);
							singleProductItem.appendChild(cartBtn);
	
							// Append single product item to row container
							shopItem.appendChild(singleProductItem);
							rowContainer.appendChild(shopItem);
	
							cartBtn.addEventListener("click", function () {
								// Retrieve the product data from the current page
								const productName = productData.productName;
								const productPrice = productData.productPrice;
								const url = productData.imageUrl;
	
								// Add the product data to the array
								cartItems.push({
									productName: productName,
									productPrice: productPrice,
									url: url
								});
	
								// Convert the array to a JSON string
								const cartItemsJSON = JSON.stringify(cartItems);
	
								// Store the JSON string in local storage
								localStorage.setItem("cartItems", cartItemsJSON);
	
								// Update cart count
								updateCartCount();
	
								console.log(cartItems);
							});
						}
					});
				} else {
					console.log("No products found.");
				}
			}).catch((error) => {
				console.error("Error retrieving products data:", error);
			});
		}
	
		// Retrieve shop name from local storage
		const n = localStorage.getItem("Shopname");
		const nn = document.getElementById('nn');
	
		// Check if shopName exists in local storage
		if (n) {
			nn.innerText = `Welcome to ${localStorage.getItem("Shopname")}`;
			// Call the displayProducts function with the retrieved shopName
			displayProducts(n);
		} else {
			console.log("Shop name not found in local storage.");
		}
	
		// Function to update cart count
		function updateCartCount() {
			const cartCountElement = document.getElementById('cartCount');
			cartCountElement.textContent = cartItems.length;
			cartCountElement.classList.add('pulse-animation');
			setTimeout(() => {
				cartCountElement.classList.remove('pulse-animation');
			}, 1000);
		}
	
		// Call function to update cart count on page load
		updateCartCount();
	
	</script>
	
	<!-- jquery -->
	<script src="assets/js/jquery-1.11.3.min.js"></script>
	<!-- bootstrap -->
	<script src="assets/bootstrap/js/bootstrap.min.js"></script>
	<!-- count down -->
	<script src="assets/js/jquery.countdown.js"></script>
	<!-- isotope -->
	<script src="assets/js/jquery.isotope-3.0.6.min.js"></script>
	<!-- waypoints -->
	<script src="assets/js/waypoints.js"></script>
	<!-- owl carousel -->
	<script src="assets/js/owl.carousel.min.js"></script>
	<!-- magnific popup -->
	<script src="assets/js/jquery.magnific-popup.min.js"></script>
	<!-- mean menu -->
	<script src="assets/js/jquery.meanmenu.min.js"></script>
	<!-- sticker js -->
	<script src="assets/js/sticker.js"></script>
	<!-- main js -->
	<script src="assets/js/main.js"></script>



	
	<!-- jquery -->
	<script src="assets/js/jquery-1.11.3.min.js"></script>
	<!-- bootstrap -->
	<script src="assets/bootstrap/js/bootstrap.min.js"></script>
	<!-- count down -->
	<script src="assets/js/jquery.countdown.js"></script>
	<!-- isotope -->
	<script src="assets/js/jquery.isotope-3.0.6.min.js"></script>
	<!-- waypoints -->
	<script src="assets/js/waypoints.js"></script>
	<!-- owl carousel -->
	<script src="assets/js/owl.carousel.min.js"></script>
	<!-- magnific popup -->
	<script src="assets/js/jquery.magnific-popup.min.js"></script>
	<!-- mean menu -->
	<script src="assets/js/jquery.meanmenu.min.js"></script>
	<!-- sticker js -->
	<script src="assets/js/sticker.js"></script>
	<!-- main js -->
	<script src="assets/js/main.js"></script>
	<script>
		
    // Retrieve shop name from local storage
    const shopName = localStorage.getItem("Shopname");

    // Check if shopName exists in local storage
    if (shopName) {
        // Use the retrieved shop name as needed
        console.log("Shop Name:", shopName);
        // For example, you can display it on the page
        const shopNameElement = document.getElementById('shopName');
        if (shopNameElement) {
            shopNameElement.textContent = shopName;
        }
    } else {
        console.log("Shop name not found in local storage.");
    }


	</script>

</body>
</html>